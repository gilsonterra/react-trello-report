(this["webpackJsonpreact-trello-report"]=this["webpackJsonpreact-trello-report"]||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),l=a(11),i=a(1),u=a(9),s=a(7),m=a(8),d=a(3),f=a.n(d),p=a(10),h="https://api.trello.com/",v="1476e4d6cc0bec828338050c24381b18",b=localStorage.getItem("token")||"",E=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"1/members/me/boards?fields=name,id,url,list&key=").concat(v,"&token=").concat(b));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"1/boards/").concat(t,"/lists?fields=name,id&key=").concat(v,"&token=").concat(b));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"1/lists/").concat(t,"/cards?key=").concat(v,"&token=").concat(b));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"1/boards/").concat(t,"?key=").concat(v,"&token=").concat(b));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.onSelect,a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){E().then((function(e){return l(e)}))}),[]),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Choice the board"),r.a.createElement("select",{className:"form-select",onChange:function(e){return function(e){var a=o.find((function(t){return t.id===e.target.value}));t(a)}(e)}},r.a.createElement("option",{value:""}),o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))};w.defaultProps={onSelect:function(){}};var x=w,N=function(e){var t=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"chip"},t," ",r.a.createElement("a",{href:"#",className:"btn btn-clear","aria-label":"Close",role:"button"})))};function j(){var e=Object(s.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #F7F8F9;\n    height: 100vh;\n    width: 100vw;\n"]);return j=function(){return e},e}var O=m.a.div(j());function S(){var e=Object(s.a)(["\n    width: 400px;\n    height: 400px;\n"]);return S=function(){return e},e}var I=m.a.div(S()),B=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),i=Object(u.a)(o,2),s=i[0],m=i[1];return r.a.createElement(O,null,r.a.createElement(I,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title h5"},"React Trello")),r.a.createElement("div",{className:"card-body"},r.a.createElement(x,{onSelect:function(e){var t;(t=e)?(m(t),k(t.id).then((function(e){c(e)}))):(m(void 0),c([]))}}),a.length>0&&a.map((function(e){return r.a.createElement(N,{key:e.id,text:e.name})}))),r.a.createElement("div",{className:"card-footer"},s?r.a.createElement(l.b,{className:"btn btn-primary",to:"/board/".concat(s.id)},"Generate"):r.a.createElement("button",{className:"btn btn-primary",disabled:!0},"Generate")))))};function C(){var e=Object(s.a)(["\n display: block; \n page-break-before: always;\n"]);return C=function(){return e},e}function F(){var e=Object(s.a)(["\n    margin-top: 20px;    \n"]);return F=function(){return e},e}var U=m.a.div(F()),L=m.a.div(C()),R=function(e){var t=e.list;return r.a.createElement(U,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title h3 badge","data-badge":t.totalCard},t.name)),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{style:{pageBreakInside:"auto"},className:"table table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",{style:{width:"150px"}},"URL"),r.a.createElement("th",{style:{width:"200px"}},"Date"))),r.a.createElement("tbody",null,t.cards.map((function(e){return r.a.createElement("tr",{key:e.id,style:{pageBreakInside:"avoid",pageBreakAfter:"auto"}},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:e.shortUrl,target:"_blank",rel:"noopener noreferrer"},e.shortUrl)),r.a.createElement("td",null,e.dateLastActivity))})))),r.a.createElement(L,null))))},_=function(){var e=Object(i.f)().boardId,t=Object(n.useState)(),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],h=m[1],v=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(e){g(e).then((function(e){return e&&o(e)}))}(e),function(e){k(e).then((function(e){e&&Promise.all(e.map(function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.id);case 2:return a=e.sent,t.totalCard=a.length,t.cards=a,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return h(e)}))}))}(e)}),[e]),r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("div",{className:"h1"},null===c||void 0===c?void 0:c.name),r.a.createElement(l.b,{to:"/",className:"btn btn-link"},"Back"),r.a.createElement("p",null,r.a.createElement("a",{href:null===c||void 0===c?void 0:c.shortUrl,className:"text-gray",target:"_blank",rel:"noopener noreferrer"},null===c||void 0===c?void 0:c.shortUrl))),d.map((function(e){return r.a.createElement(R,{key:e.id,list:e})})))},P=function(e){var t=e.title;return r.a.createElement("div",{className:"empty"},r.a.createElement("div",{className:"empty-icon"},r.a.createElement("i",{className:"icon icon-people"})),r.a.createElement("p",{className:"empty-title h5"},t))};function T(){var e=Object(s.a)(["\n    width: 300px;\n    height: 300px;\n"]);return T=function(){return e},e}var A=/[&#]?token=([0-9a-f]{64})/,G=m.a.div(T()),J={name:"Trello Report React",scope:"read",expiration:"never",response_type:"token",key:v,callback_method:"fragment",interactive:"true",redirect_uri:window.location.href,persist:"true"},W=function(){var e=function(){return window.location.replace("/react-trello-report/choice-board")};return Object(n.useEffect)((function(){if(function(){var e=localStorage.getItem("token")||"";return e&&64===e.length}())e();else{var t=A.exec(window.location.hash)||"";t&&t[1]&&(localStorage.setItem("token",t[1]),e())}}),[]),r.a.createElement(O,null,r.a.createElement(G,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title h5"},"Login at Trello")),r.a.createElement("div",{className:"card-body"}),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return function(){var e=new URLSearchParams(Object.entries(J)),t="".concat("http://trello.com/","1/authorize?").concat(e.toString());window.location.href=t}()}},"Login")))))},z=function(){return r.a.createElement(O,null,r.a.createElement(P,{title:"Not Found"}))},D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{basename:"/react-trello-report"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/board/:boardId"},r.a.createElement(_,null)),r.a.createElement(i.a,{exact:!0,path:"/choice-board"},r.a.createElement(B,null)),r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(W,null)),r.a.createElement(i.a,{exact:!0,path:"*",component:z}))))};a(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.20d24420.chunk.js.map